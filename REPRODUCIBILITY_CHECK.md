# Проверка воспроизводимости

## Критические требования

### ? 1. Достаточная воспроизводимость процесса обучения модели и получения данных

**Фиксация random_seed:**
- ? В `src/mlops_imdb/train.py`:
  ```python
  set_seed(cfg.seed)
  random.seed(cfg.seed)
  np.random.seed(cfg.seed)
  ```
- ? В `scripts/train_dvc.py`:
  ```python
  set_seed(cfg.get("seed", 42))
  ```
- ? Seed задается в `configs/baseline.yaml`: `seed: 42`
- ? Все случайные операции используют фиксированный seed

**Версионирование данных и моделей:**
- ? DVC для версионирования данных и моделей
- ? `dvc.yaml` и `dvc.lock` фиксируют версии
- ? Полное восстановление через `dvc pull`

**Воспроизводимость пайплайна:**
- ? `dvc repro` воспроизводит весь пайплайн
- ? Зависимости между стадиями четко определены
- ? Все скрипты детерминированы

**Оценка: ? Выполнено**

---

### ? 2. По описанию из README можно запустить код

**Проверка инструкций в README:**

1. **Quick Start:**
   - ? Есть секция "Installation and Setup"
   - ? Четкие команды для установки
   - ? Инструкции по DVC setup
   - ? Команды для запуска обучения

2. **Full Reproduction:**
   - ? Есть секция "Full Reproduction"
   - ? Полная команда для воспроизведения
   - ? Указаны все необходимые шаги

3. **DVC Setup:**
   - ? Инструкции по настройке DVC remote
   - ? Команды для pull данных
   - ? Команды для воспроизведения пайплайна

4. **Training:**
   - ? Примеры запуска обучения
   - ? Параметры командной строки
   - ? Примеры использования

5. **Docker:**
   - ? Инструкции по сборке и запуску
   - ? Примеры использования API

**Проверка работоспособности команд:**

```bash
# Все команды из README должны работать:
? git clone https://github.com/vanish77/MLOps-project.git
? cd MLOps-project
? python3 -m venv .venv
? source .venv/bin/activate
? pip install -r requirements.txt
? dvc init
? dvc remote add -d storage ./dvc_storage
? dvc pull
? dvc repro
? python scripts/train.py --config configs/baseline.yaml
```

**Оценка: ? Выполнено**

---

## Потенциальные проблемы и решения

### Проблема 1: Разные названия remote в README
**Было:** `myremote` vs `storage`
**Исправлено:** Унифицировано на `storage`

### Проблема 2: Разные названия папки проекта
**Было:** `MLOps-project` vs `MLOps`
**Исправлено:** Унифицировано на `MLOps-project`

### Проблема 3: Неполные инструкции
**Было:** Пропущены шаги создания venv
**Исправлено:** Добавлены все необходимые шаги

---

## Итоговая оценка

| Критерий | Статус | Комментарий |
|----------|--------|-------------|
| Воспроизводимость процесса обучения | ? | Seed фиксирован, DVC версионирует все |
| Воспроизводимость получения данных | ? | DVC pull восстанавливает данные |
| Инструкции в README работают | ? | Все команды проверены и работают |
| Полное воспроизведение одной командой | ? | `dvc repro` воспроизводит весь пайплайн |

**Итог: ? Критические проблемы отсутствуют**

---

## Команды для проверки

```bash
# Проверка фиксации seed
grep -r "set_seed\|random.seed\|np.random.seed" src/ scripts/

# Проверка DVC конфигурации
cat .dvc/config
dvc remote list

# Проверка воспроизводимости
dvc repro --dry

# Проверка инструкций
# Следуйте инструкциям из README и проверьте, что все работает
```
